- defaults:
    link:
      create: true
      relink: true

- clean: ['~']

- link:
    ~/.ssh/config: .ssh/config
    ~/.gitconfig: .gitconfig
    ~/.gitignore: .gitignore
    ~/.hushlogin: .hushlogin
    ~/.zshrc: .zshrc

- create:
    - ~/git/github.com
    - ~/git/bitbucket.org
    - ~/dotfiles/.aliases

- shell:
  - [git submodule update --init --recursive, Installing submodules]
  -
    command: if [[ `uname` = Darwin ]]; then brew bundle --file ~/.dotfiles/Brewfile; else echo "macOS not detected. Skipping..."; fi
    description: install software for macOs
    stdin: true
    stdout: true
    stderr: true
  -
    command: git clone https://github.com/powerline/fonts.git --depth=1 && cd fonts && ./install.sh && cd .. && rm -rf fonts
    description: install powerline fonts, see https://github.com/agnoster/agnoster-zsh-theme
    stdin: true
    stdout: true
    stderr: true
  -
    command: if [[ `uname` = Linux ]]; then sudo apt install fonts-firacode; else echo "Linux not detected. Skipping..."; fi
    description: install firacode fonts
    stdin: true
    stdout: true
    stderr: true
  -
    command: cd ~ && git clone https://github.com/asdf-vm/asdf.git ~/.asdf --branch v0.8.1
    description: install asdf
    stdin: true
    stdout: true
    stderr: true
  -
    command: asdf plugin-add java && asdf install java temurin-8.0.312+7 && asdf global java temurin-8.0.312+7
    description: install java
    stdin: true
    stdout: true
    stderr: true
  -
    command: asdf plugin add nodejs && asdf install nodejs lts-dubnium && asdf global nodejs lts-dubnium
    description: install nodejs
    stdin: true
    stdout: true
    stderr: true
  -
    command: cd ~ && curl -L git.io/antigen > antigen.zsh
    description: install antigen
    stdin: true
    stdout: true
    stderr: true
